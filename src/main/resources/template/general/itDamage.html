
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>전산고장신고</title>
<link rel="SHORTCUT ICON" href="/resources/img/seohanico.gif" />
<script src="/webjars/jquery/dist/jquery.min.js"></script> 
<link href="/resources/img/seohanico.jpg" rel="apple-touch-icon" sizes="180x180" /> 

	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/js/bootstrap.min.js"></script>
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap.min.css">

	<link rel="stylesheet" href="//code.jquery.com/ui/1.11.4/themes/smoothness/jquery-ui.css">
	<script src="https://cdn.jsdelivr.net/npm/vue@2.5.16/dist/vue.js"></script>
	<script src="https://npmcdn.com/axios/dist/axios.min.js"></script>
</head>
<body>
	<!-- Page Content -->
	<div id="app"> 
		<table class="table table-striped table-bordered " id="dataTable">
			<tbody>
				<tr v-for="data in dataList">
					<td class="genre"> {{data.class1}} </td>
					<td class="genre" >{{data.co_gb}}</td>
					<td class="genre" >{{data.rteam}}</td>
					<td class="genre" >{{data.rname}}</td> 
					
					<td class="longlen"><a href="tel:{{data.rtel}}">{{data.rtel}}</a></td>
					<td>{{data.rtxt}}</td>
					<td class="genre">
						<!-- <button class="btn btn-default btn-sm" type="button"
							onClick="location.href='/file?fileName={{data.fileName}}""> -->
							다운로드
					</td> 
					</td>
					<!-- <td class="genre"><button class="btn btn-default btn-sm"
							type="button" id="endDamage"
							onClick="location.href='/endDamage?class1={{data.class1}&rtime={{data.rtime}&rtel={{data.rtel}&rtxt={{data.rtxt}';  ">완료</button>
						</td> -->
				</tr>  
			</tbody>
		</table>
	</div>
 

	<script>
		// import axios from 'axios'
		var vm = new Vue({
			el: '#app',
			data: {
				datepicker: new Date(),
				querydate: '',
				dataList: []
			},
			created() {
				var today = new Date();
				querydate = today.getFullYear() + '' + ('00' + (today.getMonth() + 1)).slice(-2) + '' + today.getDate();
				this.datepicker = today.getFullYear() + '-' + ('00' + (today.getMonth() + 1)).slice(-2) + '-' + today.getDate();;

				axios.get('/general/itdamage')
					.then(response => {
						this.dataList = response.data;
					})
					.catch(e => {
						console.error(e)
					})
			},
			methods: {
				getData: function () {
					querydate = this.datepicker.substr(0, 4) + this.datepicker.substr(5, 2) + this.datepicker.substr(8, 2);
					axios.get('/general/itdamage')
						.then(response => {
							this.dataList = response.data;
						})
						.catch(e => {
							console.error(e)
						})
				}
			},
			mounted: function () {
			}
		});  
	</script>
</body>
</html>
